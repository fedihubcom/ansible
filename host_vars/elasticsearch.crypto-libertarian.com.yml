---
ansible_become_pass_for:
  kotovalexarian: !vault |
    $ANSIBLE_VAULT;1.2;AES256;kotovalexarian
    37356663356638623933323066626563363062333933326466643565333639343561626434653133
    3932396339323930343266323835356137316332653635310a333362346263333265333561663939
    37656334313731303536663031376132303636336330316636323032323832663634353138666432
    6434376561386265630a643864393765623138663464613265656465633965646138643834383163
    34386236643832646139393363376537626237613030613539356361613832303030623432366165
    3230643765353235613432633064383834623235666538353766

ansible_become_pass: "{{ ansible_become_pass_for[admin] }}"

common__certbot__cert_name: 'elasticsearch.crypto-libertarian.com'
common__certbot__cert_domains:
  - 'elasticsearch.crypto-libertarian.com'

common__iptables__v4_filter: |
  # Allow incoming HTTP for Certbot to work.
  -A INPUT  -p tcp --dport 80 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT
  -A OUTPUT -p tcp --sport 80 -m conntrack --ctstate ESTABLISHED     -j ACCEPT

  # Deny other HTTP.
  -A INPUT  -p tcp --dport 80 -j REJECT
  -A OUTPUT -p tcp --dport 80 -j REJECT

  # Allow incoming HTTP (ElasticSearch).
  -A INPUT  -p tcp --dport 9200 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT
  -A OUTPUT -p tcp --sport 9200 -m conntrack --ctstate ESTABLISHED     -j ACCEPT

  # Deny other HTTP (ElasticSearch).
  -A INPUT  -p tcp --dport 9200 -j REJECT
  -A OUTPUT -p tcp --dport 9200 -j REJECT

common__iptables__v6_filter: '{{ common__iptables__v4_filter }}'
